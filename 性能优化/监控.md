### 埋点收集的方法
1. 用图片做埋点收集，一般会发送一个1kb的gif附带信息
2. navigator.sendBeacon(),不再消耗请求



### 采集页面性能数据
DNS查询时间，TCP连接时间，request耗时，解析dom树，白屏时间，domready时间，onload时间，FP时间，FCP时间，FMP时间


```
// FP,FCP,FMP
const observer = new PerformanceObserver((lists) => {
  lists.getEntries().forEach(entry => {
    if (entry.name === 'first-paint') {
      console.log('fp时间: ', entry.startTime.toFixed(0))
    }
    if (entry.name === 'first-contentful-paint') {
      console.log('fcp时间: ', entry.startTime.toFixed(0))
    }
    if (entry.name === 'first-meaning-paint') {
      console.log('fmp时间: ', entry.startTime.toFixed(0))
    }
  })
})
observer.observe({
  entryTypes: ["paint", "mark"]
})


// fmp需要在你认为有意义信息出现的地方打mark，比如window.onload事件

window.onload = function(){
  performance.mark('first-meaning-paint')
}
```

